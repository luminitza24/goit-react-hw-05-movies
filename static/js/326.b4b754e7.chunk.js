"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[326],{398:function(e,n,t){t.d(n,{e:function(){return i}});var c=t(689),r=t(87),o=t(184),i=function(e){var n=e.movies,t=(0,c.TH)();return(0,o.jsx)("div",{className:"container",children:n.length>0&&n.map((function(e){return(0,o.jsx)(r.rU,{to:"/movies/".concat(e.id),state:{from:t},className:"movie-link",children:(0,o.jsx)("ul",{className:"list-group",children:(0,o.jsx)("li",{className:"list-group-item",children:(0,o.jsx)("div",{className:"movie-card",children:(0,o.jsxs)("div",{className:"image-cont",children:[(0,o.jsx)("h2",{children:e.title}),(0,o.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:"Movie Poster",className:"image"})]})})})})},e.id)}))})}},588:function(e,n,t){t.d(n,{Bt:function(){return s},Ny:function(){return i},Tg:function(){return o},on:function(){return u},y:function(){return a}});var c="https://api.themoviedb.org/3/",r="44cd7d40e9c9ffc80f6b2e51bac6d9ee",o=function(){return fetch("".concat(c,"trending/movie/day?api_key=").concat(r)).then((function(e){return e.json()}))},i=function(e){return fetch("".concat(c,"movie/").concat(e,"?api_key=").concat(r)).then((function(e){return e.json()}))},a=function(e){return fetch("".concat(c,"movie/").concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.json()}))},s=function(e){return fetch("".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.json()}))},u=function(e){return fetch("".concat(c,"search/movie?page=1&api_key=").concat(r,"&query=").concat(e)).then((function(e){return e.json()}))}},326:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var c=t(439),r=t(791),o=t(87),i=t(588),a=t(398),s=t(686),u=t.n(s),l=t(184),f=function(){var e=(0,o.lr)(),n=(0,c.Z)(e,1)[0],t=(0,r.useState)(n.get("query")?n.get("query"):""),s=(0,c.Z)(t,2),f=s[0],h=s[1],m=(0,r.useState)([]),d=(0,c.Z)(m,2),v=d[0],g=d[1];return(0,r.useEffect)((function(){h(n.get("query"))}),[n]),(0,r.useEffect)((function(){console.log(f),f&&f.length>2&&(0,i.on)(f).then((function(e){e.results.length>0?g(e.results):(g([]),u().Notify.failure("No movies found for '".concat(f,"'")))})).catch((function(e){console.error(e),u().Notify.failure("Something went wrong please try again later!")}))}),[f]),(0,l.jsxs)(l.Fragment,{children:[f&&(0,l.jsxs)("h6",{className:"search",children:["The search term is: ",(0,l.jsx)("span",{className:"text-info",children:f})]}),v.length>0&&(0,l.jsx)(a.e,{movies:v})]})},h=function(){var e=(0,r.useRef)(),n=(0,o.lr)(),t=(0,c.Z)(n,2),i=t[0],a=t[1];return(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("form",{onSubmit:function(n){n.preventDefault();var t=e.current.value;t.length>=3?a({query:t}):u().Notify.failure("The search term is too short")},className:"form",role:"search",children:(0,l.jsx)("div",{className:"container-form",children:(0,l.jsxs)("div",{className:"input-group",children:[(0,l.jsx)("input",{ref:e,type:"search",className:"form-control",placeholder:"Search movie","aria-label":"Search","aria-describedby":"search-addon"}),(0,l.jsx)("button",{type:"submit",className:"button",children:"Search"})]})})}),i.get("query")&&(0,l.jsx)(f,{})]})}}}]);
//# sourceMappingURL=326.b4b754e7.chunk.js.map